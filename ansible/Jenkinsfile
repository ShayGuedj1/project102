pipeline {
    agent any

    stages {
        
        stage('Terraform Apply') {
            steps {
                // Run Terraform to provision AWS instance
                sh 'pwd'
                sh 'ls' 
                sh 'ls ansible'
                sh "ansible-playbook -i /home/ubuntu/inventory ansible/install-services.yaml --ssh-common-args='-o StrictHostKeyChecking=no'"
            }
        }
    }
}